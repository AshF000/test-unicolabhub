{% extends 'base.html' %}

{% block title %}
Home
{% endblock %}

{% block content %}
<div class="container">
    {% if user.is_authenticated %}

    <h1 style="text-align: center; margin-top: 20px">Posts</h1>

    <div style="display: flex; align-items: center;">

        {% for item in feed_items %}
        <div class="card mb-3 shadow-sm" style="width: 20rem; height: 26rem; overflow: hidden; margin: 1rem;">
            <div class="card-body d-flex flex-column" style="height: 100%;">

                <h5 class="card-title">{{ item.title }}</h5>
                <p class="text-muted">{{ item.content_type }} â€¢ {{ item.created_at|date:"M d, Y H:i" }}</p>
                <p class="card-text" style="">{{ item.description|truncatechars:30 }}</p>

                {% if item.cover_pic %}
                <div style="flex-grow: 1; width: 100%; height: 150px; overflow: hidden; border-radius: 0.375rem;">
                    <img src="{{ item.cover_pic.url }}"
                         alt="{{ item.title }}"
                         style="width: 100%; height: 100%; object-fit: cover; border-radius: 0.375rem;">
                </div>
                {% endif %}

                <a href="#" class="btn btn-primary mt-3 align-self-start">View {{ item.content_type }}</a>
            </div>
        </div>
        {% empty %}
        <p>No posts yet.</p>
        {% endfor %}
    </div>
    {% endif %}

</div>
{% endblock%}